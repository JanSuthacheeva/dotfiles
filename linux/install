#!/usr/bin/env bash

set -e

DOTFILES=$(cd $(dirname "${BASH_SOURCE[0]}")/.. && pwd)

echo "Installing Linux dotfiles..."

# Set up Ghostty config symlink
echo "Setting up Ghostty config..."
mkdir -p $HOME/.config
rm -rf $HOME/.config/ghostty
ln -s $DOTFILES/linux/ghostty $HOME/.config/ghostty

# Set up Neovim config symlink
echo "Setting up Neovim config..."
rm -rf $HOME/.config/nvim
ln -s $DOTFILES/nvim $HOME/.config/nvim

# Set up tmux config
echo "Setting up tmux config..."
rm -f $HOME/.tmux.conf
ln -s $DOTFILES/tmux/tmux.conf $HOME/.tmux.conf

# Set up Claude Code config
echo "Setting up Claude Code config..."
mkdir -p $HOME/.claude
rm -f $HOME/.claude/CLAUDE.md
ln -s $DOTFILES/claude/CLAUDE.md $HOME/.claude/CLAUDE.md
rm -f $HOME/.claude/settings.json
ln -s $DOTFILES/claude/settings.json $HOME/.claude/settings.json
rm -rf $HOME/.claude/commands
ln -s $DOTFILES/claude/commands $HOME/.claude/commands
rm -rf $HOME/.claude/skills
ln -s $DOTFILES/claude/skills $HOME/.claude/skills

echo "Linux dotfiles installation complete!"
